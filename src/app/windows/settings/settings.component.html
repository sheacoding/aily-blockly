<app-sub-window [title]="'设置'" [winBtns]="['close']">
  <div class="window-inner">
    <div class="window-content">
      <div class="left">
        <div class="left-inner">
          @for (item of items; track item.name) {
          <div class="type-btn btn" (click)="scrollToSection(item)"
            [ngClass]="{ selected: activeSection === item.name }">
            <div class="icon ccenter"><i class="{{ item.icon }}"></i></div>
            {{ item.name }}
          </div>
          }
        </div>
      </div>
      <ngx-simplebar class="right" #scrollContainer [options]="options" (scroll)="onScroll()">
        <div class="right-inner-container">
          <!-- 基础设置 -->
          <div id="section-基础设置" class="section" style="padding-bottom: 100px;">
            <h2 class="section-title">基础设置</h2>
            <div class="right-inner">
              <div class="item">
                <div>项目文件夹:</div>
                <input nz-input [(ngModel)]="data.project_path" />
              </div>
              <div class="item">
                <div>语言:</div>
                <div class="langs">
                  @for(lang of langList; track lang) {
                  <div class="lang ccenter" [ngClass]="{ selected: currentLang==lang.code }" (click)="selectLang(lang)">
                    <img src="i18n/{{ lang.code }}/{{ lang.code }}.jpg" alt="" srcset="" />
                    <span>{{ lang.name }}</span>
                  </div>
                  }
                </div>
              </div>
            </div>
          </div>

          <!-- 主题设置 -->
          <div id="section-主题设置" class="section">
            <h2 class="section-title">主题设置</h2>
            <div class="right-inner">
              <div class="item">
                <div>界面主题:</div>
                <nz-radio-group [(ngModel)]="UiThemeValue" nzButtonStyle="solid">
                  <label nz-radio-button nzValue="dark">Dark</label>
                  <label nz-radio-button nzValue="light">Light</label>
                </nz-radio-group>
              </div>
              <div class="item">
                <div>blockly主题:</div>
                <nz-radio-group [(ngModel)]="blocklyThemeValue" nzButtonStyle="solid">
                  <label nz-radio-button nzValue="default">现代</label>
                  <label nz-radio-button nzValue="classics">经典</label>
                </nz-radio-group>
              </div>
            </div>
          </div>
          <!-- 编译设置 -->
          <div id="section-编译设置" class="section">
            <h2 class="section-title">编译设置</h2>
            <div class="right-inner">
              <!-- 编译设置的内容 -->
              <div class="item">
                <div>编译选项:</div>
                <p>暂无选项</p>
              </div>
            </div>
          </div>
          <!-- 仓库设置 -->
          <div id="section-仓库设置" class="section">
            <h2 class="section-title">仓库设置</h2>
            <div class="right-inner">
              <div class="instructions">仓库url管理（一行一个）</div>
              <textarea class="registry" nz-input [(ngModel)]="npmRegistryListStr"></textarea>
              <div class="instructions">开发板列表</div>
              <textarea class="registry" nz-input [(ngModel)]="npmRegistryListStr"></textarea>
              <div class="instructions">库列表</div>
              <textarea class="registry" nz-input [(ngModel)]="npmRegistryListStr"></textarea>
            </div>
          </div>

          <!-- 开发板管理 -->
          <div id="section-开发板管理" class="section">
            <h2 class="section-title">开发板管理</h2>
            <div class="right-inner">
              <div class="serach-box">
                <nz-input-group [nzSuffix]="suffixIconSearch">
                  <input type="text" nz-input placeholder="搜索开发板" />
                </nz-input-group>
                <ng-template #suffixIconSearch>
                  <i class="fa-regular fa-magnifying-glass"></i>
                </ng-template>
              </div>
              <div class="board-list sscroll bborder">
                @for (board of boardList; track $index) {
                <div class="board-item">
                  <div>{{ board.name }}</div>
                  <div class="version">&#64;{{ board.version }}</div>
                  <div class="btns">
                    @if (board.installed) {
                    <div class="btn link">卸载</div>
                    } @else {
                    <div class="btn link">安装</div>
                    }
                  </div>
                </div>
                }
              </div>
            </div>
          </div>
        </div>
      </ngx-simplebar>
    </div>
    <div class="window-footer">
      <div class="btns">
        <button nz-button nzType="default" (click)="cancel()">取消</button>
        <button nz-button nzType="primary" (click)="apply()">应用</button>
      </div>
    </div>
  </div>
</app-sub-window>